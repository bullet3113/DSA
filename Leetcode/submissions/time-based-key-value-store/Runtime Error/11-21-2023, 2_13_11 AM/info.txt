{"id":1102980103,"lang":"java","lang_name":"Java","time":"2 weeks, 2 days","timestamp":1700512991,"status":15,"status_display":"Runtime Error","runtime":"N/A","url":"/submissions/detail/1102980103/","is_pending":"Not Pending","title":"Time Based Key-Value Store","memory":"N/A","code":"class TimeMap {\n\n    Map<String, List<pair>> map;\n    public TimeMap() {\n        map = new HashMap<>();\n    }\n    \n    public void set(String key, String value, int timestamp) {\n        if(!map.containsKey(key)) map.put(key, new ArrayList<>());\n        map.get(key).add(new pair(value, timestamp));\n    }\n    \n    public String get(String key, int timestamp) {\n        \n        if(!map.containsKey(key) || map.get(key).isEmpty()) return \"\";\n        List<pair> list = map.get(key);\n\n        int i = 0;\n        int j = list.size()-1;\n\n        while(i <= j) {\n            int mid = i + (j - i) / 2;\n            int time = list.get(mid).time;\n            \n            if(time <= timestamp) {\n                i = mid + 1;\n            } else {\n                j = mid - 1;\n            }\n        }\n\n        return list.get(j).val;\n    }\n}\n\nclass pair {\n    String val;\n    int time;\n\n    public pair(String val, int time) {\n        this.val = val;\n        this.time = time;\n    }\n}\n\n/**\n * Your TimeMap object will be instantiated and called as such:\n * TimeMap obj = new TimeMap();\n * obj.set(key,value,timestamp);\n * String param_2 = obj.get(key,timestamp);\n */","compare_result":"10000000000000000000000000000000000000000000000000","title_slug":"time-based-key-value-store","has_notes":false,"flag_type":1}